<!DOCTYPE html>
<html lang="ko-KR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <title>eventDefault</title>
    <link rel="stylesheet" href="css/touchnswipe.min.css">
    <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="css/tab.css">
    <link rel="stylesheet" href="css/child_style.css">
    <!--[if lt IE 9]>
    <style>
        code{overflow: auto}
    </style>
    <![endif]-->
</head>
<body>
<div id="wrap">
    <div class="explain">
        <h1 class="tit">encodeURIComponent, decodeURIComponent</h1>
        <dl>
            <dt class="d_tit">encodeURIComponent, decodeURIComponent</dt>
            <dd class="d_txt">
                AJAX 요청을 보낼 때 'http://localhost:8003/search/노드' 처럼 주소에 한글이 들어가는 경우가 있습니다. <br>
                서버 종류에 따라 다르지만, 서버가 한글 주소를 이해하지 못하는 경우가 있는데, <br>
                이럴 때 window 객체의 메서드인 <span class="em">encodeURIComponent 메서드</span>를 사용합니다. <br>
                노드에서도 사용할 수 있습니다.
                <pre class="line-numbers">
                    <code class="language-javascript">
                        &lt;script&gt;
                            var xhr = new XMLHttpRequest();
                            xhr.onreadystatechange = function () { // 요청에 대한 콜백
                                if (xhr.readyState === xhr.DONE) { // 요청이 완료되면
                                    if (xhr.status === 200 || xhr.status === 201) { // 응답 코드가 200이나 201이면
                                        console.log(xhr.responseText); // 서버에서 보내주는 값
                                    } else {
                                        console.error(xhr.responseText);
                                    }
                                }
                            }
                            xhr.open('GET', 'https://www.zerocho.com/api/search/' + encodeURIComponent('노드'));
                            // 한글 주소 인코딩 후 전송
                            xhr.send(); // 요청 전송
                        &lt;/script&gt;
                    </code>
                </pre>
                한글 주소 부분만 encodeURIComponent 메서드로 감싸줍니다. 
                <span class="img_wrap"><img src="img/img31.jpg" alt=""></span>
                <span class="img_wrap"><img src="img/img32.jpg" alt=""></span>
                노드라는 한글 주소가 %EB%85%B8%EB%93%9C 라는 문자열로 변환되었습니다. <br>
                <br>
                받는 쪽에서는 <span class="em">decodeURIComponent</span>를 사용하면 됩니다. <br>
                역시 브라우저뿐만 아니라 노드에서도 사용할 수 있습니다.
                <pre class="line-numbers">
                    <code class="language-javascript">
                        decodeURIComponent('%EB%85%B8%EB%93%9C') // 노드
                    </code>
                </pre>
                한글이 다시 원래 상태로 복구되었습니다. <br>
                이후에 나오는 예제에서 <span class="em">encodeURIComponent</span>와 <span class="em">decodeURIComponent</span>를 쓴 경우를 보게 될 텐데,
                <br>
                한글을 처리하기 위한 것이라고 생각하면 됩니다.


            </dd>
        </dl>
    </div>
</div>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="js/hammer.min.js"></script>
<script src="js/TweenMax.min.js"></script>
<script src="js/jquery.touchnswipe.min.js"></script>
<script src="js/prism.js"></script>
<script src="js/tab.js"></script>
</body>
</html>